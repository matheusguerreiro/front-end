import React from 'react'

// sass
import './map.sass'

// @react-google-maps/api
import { GoogleMap, LoadScript, Polygon, useJsApiLoader } from '@react-google-maps/api'

// Talhao.json
import json from '../../data/Talhao.json'

// hook


const polygonCoordinates = json.features[0].geometry.coordinates[0].map((coordinate) => (
  {lat: coordinate[1], lng: coordinate[0]}
))


function Map() {

  let center = {lng: -53.58097839355469, lat: -15.179832458496094}

  const optMap = {
    disableDefaultUI: true,
    zoomControl: true,
    mapTypeId: "satellite"
  }

  const optPolygon = {
    fillColor: 'lightblue',
    fillOpacity: 1,
    strokeColor: 'red',
    strokeOpacity: 1,
    strokeWeight: 2,
    // clickable: false,
    // draggable: false,
    // editable: true,
    zIndex: 1
  }

  function handleClick(event) {
    console.log(event)
  }

  return (
    <div className="map">
      <LoadScript 
        googleMapsApiKey='AIzaSyB0M6YIG2aL58gl58imsjigAgsfU0dTrp0'
      >
        <GoogleMap
          mapContainerStyle={{width: '100%', height: '100%'}}
          center={center}
          zoom={15}
          options={optMap}
        >
          <Polygon 
            paths={polygonCoordinates}
            options={optPolygon}
            onClick={handleClick}
            zIndex={1}
          />
        </GoogleMap>
      </LoadScript>
    </div>
  ) 
}
export default React.memo(Map);